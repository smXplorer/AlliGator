.. _alligator-menus:

AlliGator Menus
===============

Some of AlliGator's functions can be performed via the top menu bar (and associated shortcuts).
The menus are :ref:`File <alligator-file-menu>`, :ref:`Windows <alligator-windows-menu>`, :ref:`Analysis <alligator-analysis-menu>`, :ref:`Calibration <alligator-calibration-menu>`, :ref:`Settings <alligator-settings-menu>` and :ref:`Help <alligator-help-menu>`

.. _alligator-file-menu:

File Menu
---------

.. image:: images/AlliGator-File-Menu.png
   :align: center

+ ``Load``
  
  + ``FLI Dataset``

    + ``Gate Image Folder``: is used with data consisting of series of images
    + ``HDF5 File``: allows loading datasets saved in the HDF5 open source file format used by AlliGator
    + ``.sdt File``: loads Becker & Hickl histogrammed FLIM files
    + ``.ptu File``: loads PicoQuant TCSPC FLIM files
    + ``.bin File``: loads PicoQuant histogrammed FLIM files
    + ``SwissSPAD 1 .dat File``: loads a file generated by the first generation SwissSPAD camera
    + ``Reload Dataset``: forces reloading the current dataset (used to apply new settings)
	  
  + ``FLI Dataset Series``

    + ``Gate Image Folder Series``: is used with folders of folders of data consisting of series of images
    + ``HDF5 File Series``: allows loading a folder of datasets saved in the HDF5 open source file format used by AlliGator
    + ``.sdt File Series``: loads a folder of Becker & Hickl histogrammed FLIM files
    + ``.ptu File Series``: loads a folder of PicoQuant TCSPC FLIM files
    + ``.bin File Series``: loads a folder of PicoQuant histogrammed FLIM files
    + ``Reload Dataset Series``: forces reloading the current dataset series (used to apply new settings)

  + ``Other Files``

    + ``Open White Light Image``: allows opening a single image of the sample (or any other image) which will not be used for data analysis
    + ``Open ROI Mask``: opens a mask image used to define regions of interest for data analysis
    + ``Import I/m/phi Dataset``: loads a special kind of HDF5 file containing phasor data

+ ``Save``
 
  + ``Save as TIFF Gate Image Folder``: saves gate images loaded in AlliGator as TIFF files
  + ``Save as HDF5 FLI Dataset``: saves any file loaded in AlliGator in the open source file HDF5 format used by AlliGator
 
+ ``Quit``: quits AlliGator with confirmation, offering to save the **Notebook** content (:kbd:`Ctrl+Q`)

.. _alligator-windows-menu:

Windows Menu
------------

.. image:: images/AlliGator-Windows-Menu.png
   :align: center
   
+ ``Notebook``: opens the **Notebook** window (:kbd:`Ctrl+N`).
+ ``Dataset Information``: opens the **Dataset Information** window (:kbd:`Ctrl+I`).
+ ``Settings``: opens the **Settings** window (:kbd:`Ctrl+E`).
+ ``Source Image ROI Manager``: opens the **Image Source ROI Manager** window.
+ ``Phasor Plot ROI Manager``: opens the **Phasor Plot ROI Manager** window.
+ ``Phasor Harmonic Manager``: opens the **Phasor Harmonic Manager** window.
+ ``Image Profile``: opens the **Image Profile** window.
+ ``Local Decay Graph``: opens the **Local Decay Graph** window.
+ ``Fit Status``: opens the **Fit Status** monitoring window.

.. _alligator-scripts-menu:

Scripts Menu
-------------

.. image:: images/AlliGator-Scripts-Menu.png
   :align: center
   
.. _alligator-analysis-menu:

+ ``Phasor Calibration Maps (# Gates Series)``: computes phasor calibrations maps for different step parameters
+ ``Calibrated Phasor Map Series``: computes calibrated phasors plots for a series of dataset/gate step/calibration map
+ ``Multi-ROI Single-Pixel Phasor Analysis``: computes calibrated single-pixel phasors for the current ROIs
+ ``Multi-ROI Single-Pixel NLSF Analysis``: performs single-pixel NLSF analysis for the current ROIs
+ ``Square Gated IRF Characteristics Map``: fits ROI decays with one of the following gate models

  + ``Square Pulse``
  + ``Logistic Square Pulse``
  + ``Tilted Logistic Square Pulse``

Analysis Menu
-------------

.. image:: images/AlliGator-Analysis-Menu.png
   :align: center
   
+ ``Fluorescence Decay Statistics``: analyzes all single pixel decays within the data set and builds an histogram of the minimum and maximum intensity in each decay. This analysis is discussed in more details in the :ref:`Fluorescence Decay Statistics <alligator-fluorescence-decay-statistics-panel>` page of the manual (:kbd:`Ctrl+D`).
+ ``Define Intensity Corrections``: opens the **Define & Save Intensity Corrections File** window discussed in the :ref:`Intensity Corrections Definition <intensity-corrections-definition>` manual page.
+ ``Global Fit of Selected Decays``: performs a global fit of decays selected in the ``Decay Graph`` (**Fluorescence Decay** panel). Details can be found in the ref:`Fluorescence Decay NLSF <fluorescence-decay-nlsf>` page of the manual.
+ ``Current ROI Analysis``: performs an analysis of the pixels located within the selected ROI or, if the ``Use ROI as Search Area`` button is pressed, in the optimal ROI within that region  (:kbd:`Ctrl+A`).
+ ``Multiple ROIs Analysis``

  + ``All ROIs IRF Extraction``
  
    + ``Interactive (Slow)``
    + ``Non-interactive (Fast)``
	
  + ``All ROIs Decay Fit``
  
    + ``Interactive (Slow)``
    + ``Non-Interactive (Fast, Common IRF)``
    + ``Non-Interactive (Fast, Individual IRF)``

  + ``All ROIs (Phasor) Analysis``
  
    + ``Interactive (Slow)``: performs the same analysis as ``Current ROI Analysis`` on all ROIs currently defined, in the order they appear in the **ROI Manager**. In particular, it will plot the corresponding decay, add a data point to a new phasor plot in the *Phasor Graph* and display the current location of the ROI. This can take quite a long time in the case of a very long list of ROIs or for large datasets.
	 
    + ``Non-interactive (Fast)``: performs the same analysis as ``Current ROI Analysis`` on all ROIs currently defined, in the order they appear in the **ROI Manager**. No decay is plotted, the phasor plot resulting from the analysis in only displayed at the end, and no ROI is displayed on the *Source Image* during the analysis. This mode is recommended, as it is much faster than the previous one (> x10).

+ ``Series Analysis``

  + ``Series Phasor``: performs phasor analysis of the loaded dataset series.
  + ``Series Fit``: performs a decay fitting analysis of the loaded dataset series.
  + ``Sum All Datasets in Series``: loads each dataset in a selected series and builds a dataset in which each gate image is the sum of the corresponding gate images of all datasets in the series. If the *Average Dataset Sum* checkbox in the **Settings:Source Image** panel is checked, the summed dataset is divided by the number of datasets, obtaining an average dataset.
  
Warning: This dataset is temporary (as indicated by the asterisk which appears after its name in the AlliGator window title). It can be saved immediately using the ``File->Save HDF5 Dataset`` (:kbd:`Ctrl+S`) menu item. Any action that will update the dataset loaded in memory (such as for instance using the *Time Point Slide* next to the *Source Image*), will hide this dataset. However, it can be displayed again by selecting the ``Analysis->Series Analysis->Show Dataset Series Sum`` menu item.

+ ``Playback``: will load and display the datasets in a time series, without processing the data (contrary to the ``Time-Series Analysis`` menu item). It can be stopped by selecting the ``Playback`` menu item again or pressing the *Abort* button. (:kbd:`Ctrl+P`).
+ ``Loop``: performs the same function as playback, but resumes playback from the start when the end of the series is reached. It can be stopped by selecting the ``Loop`` menu item or pressing the *Abort* button. (:kbd:`Ctrl+Shift+P`).

.. _alligator-calibration-menu:

Calibration Menu
----------------

.. image:: images/AlliGator-Calibration-Menu.png
   :align: center
   
The menu is comprised of three sub-menus:

+ ``Single Phasor Calibration``

  + ``Use Single Phasor Calibration``: performs the same action as selecting ``Single Phasor`` in the *Calibration Type* pull-down list in the **Phasor Graph** panel. Both are linked (the pull-down list is updated when the menu item is selected and vice versa).
  + ``Save Phasor Calibration``: saves the currently used single calibration phasor to a XML file.
  + ``Load Phasor Calibration``: loads a previously saved calibration phasor,
  + ``Clear Phasor Calibration``: removes the stored calibration from memory.
  
+ ``Phasor Calibration Series``

  + ``Use Phasor Calibration Series``: performs the same action as selecting ``Phasor Series`` in the *Calibration Type* pull-down list in the **Phasor Graph** panel. Both are linked (the pull-down list is updated when the menu item is selected and vice versa).
  + ``Save Phasor Calibration Series``: saves the currently used calibration phasor curve to a XML file.
  + ``Load Phasor Calibration Series``:  loads a previously saved calibration phasor curve,
  + ``Clear Phasor Calibration Series``: removes the stored calibration curve from memory.
 
+ ``Phasor Calibration Map``

  + ``Use Phasor Calibration Map``: performs the same action as selecting ``Phasor Map`` in the *Calibration Type* pull-down list in the **Phasor Graph** panel. Both are linked (the pull-down list is updated when the menu item is selected and vice versa).
  + ``Save Phasor Calibration Map``: saves the currently used calibration phasor map to a XML file.
  + ``Load Phasor Calibration Map``:  loads a previously saved calibration phasor map,
  + ``Clear Phasor Calibration Map``: removes the stored calibration map from memory.

.. _alligator-settings-menu:

Settings Menu
-------------

+ ``Load Settings``:
+ ``Save Settings``:
+ ``Export Settings to Notebook``

  + ``All Settings``: writes all settings currently used in AlliGator in the **Notebook** for future reference. Some of these settings are added to the **Notebook** during the course of data analysis. This function conveniently regroups all settings in one single location in the **Notebook**. The following items limit the content of the **Settings** window that is exported to the **Notebook**:
  + ``Source Image``
  + ``Data Information``
  + ``Fluorescence Decay``
 
    + ``All Settings``
    + ``Decay Pre-Processing``
    + ``Advanced Analysis``
    + ``Fit Options``
    + ``Fit Parameters``
    + ``Styles``
	
  + ``Fluorescence Decay Statistics``
  + ``Time Traces``
  + ``Phasor Plot``
  + ``Phasor Graph``
  + ``Single-Exponential Phasor Locus (SEPL)``
  + ``Lifetime Analysis``
  + ``Miscellaneous``
  
+ ``Settings``: opens the **Settings** window
 
.. _alligator-help-menu:

Help Menu
---------

.. image:: images/AlliGator-Help-Menu.png
   :align: center

+ ``Show Context Help``: shows a floating window providing basic information on the object pointed at with the mouse pointer (:kbd:`Ctrl+H`).
+ ``Online Manual``: opens a page in the default browser redirecting to this website.
+ ``Check for Update``: visits the Installation webpage to check the latest released version. If a newer version is found, the software offers to download and install it. The new version will be used on the next time AlliGator is started.
+ ``About AlliGator``: opens a dialog window providing basic information on AlliGator.